# Security configuration for nginx

# Hide nginx version
server_tokens off;

# Limit request body size (10MB)
client_max_body_size 10M;

# Buffer size limits
client_body_buffer_size 128k;
client_header_buffer_size 1k;
large_client_header_buffers 4 4k;

# Timeouts
client_body_timeout 12s;
client_header_timeout 12s;
send_timeout 10s;

# Logging
access_log /var/log/nginx/access.log;
error_log /var/log/nginx/error.log warn;

# Rate limiting zone
limit_req_zone $binary_remote_addr zone=api:10m rate=10r/s;
limit_req_status 429;
